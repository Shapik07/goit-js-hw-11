{"mappings":"AAEA,MAAMA,EAAO,CACXC,WAAYC,SAASC,cAAc,gBACnCC,YAAaF,SAASC,cAAc,iBACpCE,eAAgBH,SAASC,cAAc,YAGnCG,EAAM,ICRG,MAMbC,cAGE,IAAIC,EAAiB,4EAA4EC,KAAKC,OAEtGC,MAAM,qEAAuBF,KAAKG,eAAeJ,KAC9CK,MAAKC,GAAUA,EAAOC,SACtBF,MAAKG,IACJP,KAAKQ,mBAIXA,gBACER,KAAKC,MAAQ,EAGfQ,YACET,KAAKC,KAAO,EAGVS,YACF,OAAOV,KAAKG,YAGVO,UAAMC,GACRX,KAAKG,YAAcQ,EA9BrBC,cACEZ,KAAKG,YAAc,GACnBH,KAAKC,KAAO,IDOhBV,EAAKC,WAAWqB,iBAAiB,UAGjC,SAAkBC,GAChBA,EAAEC,iBAEFlB,EAAIa,MAAQI,EAAEE,cAAcC,SAASd,YAAYe,MACjDrB,EAAIY,YACJZ,EAAIC,iBAPNP,EAAKK,eAAeiB,iBAAiB,SAUrC,WACEhB,EAAIC","sources":["src/js/Create-gallery.js","src/js/news-api.js"],"sourcesContent":["import NewsApiService from './news-api';\n\nconst refs = {\n  searchForm: document.querySelector('.search-form'),\n  galleryList: document.querySelector('.Gallery_list'),\n  buttonLoadMore: document.querySelector('.button'),\n};\n\nconst API = new NewsApiService();\n\nrefs.searchForm.addEventListener('submit', onSearch);\nrefs.buttonLoadMore.addEventListener('click', onLoadMore);\n\nfunction onSearch(e) {\n  e.preventDefault();\n\n  API.query = e.currentTarget.elements.searchQuery.value;\n  API.resetPage();\n  API.fetchImages();\n}\n\nfunction onLoadMore() {\n  API.fetchImages();\n}\n","export default class NewsApiService {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n  }\n\n  fetchImages() {\n    const url = 'https://pixabay.com/api/';\n    const KEY = '30097880-73ac2834789f98742941535c7';\n    let searchSettings = `per_page=40&image_type=photo&orientation=horizontal&safesearch=true$page=${this.page}`;\n\n    fetch(`${url}?key=${KEY}&q=${this.searchQuery}&${searchSettings}`)\n      .then(result => result.json())\n      .then(data => {\n        this.incrementPage();\n      });\n  }\n\n  incrementPage() {\n    this.page += 1;\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newSearchQuery) {\n    this.searchQuery = newSearchQuery;\n  }\n}\n"],"names":["$5a37b3d07ad0a316$var$refs","searchForm","document","querySelector","galleryList","buttonLoadMore","$5a37b3d07ad0a316$var$API","fetchImages","searchSettings","this","page","fetch","searchQuery","then","result","json","data","incrementPage","resetPage","query","newSearchQuery","constructor","addEventListener","e","preventDefault","currentTarget","elements","value"],"version":3,"file":"index.7fe2e791.js.map"}